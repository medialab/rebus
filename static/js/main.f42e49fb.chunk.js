(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,a){e.exports=a(663)},265:function(e,t,a){},378:function(e,t){},380:function(e,t){},412:function(e,t){},413:function(e,t){},482:function(e,t){},661:function(e,t,a){},663:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(44),o=a.n(r),s=(a(265),a(4)),c=a(16),l=a(6),u=a(5),d=a(7),p=a(664),m=a(45),h=a(21),f=a(1),g=a.n(f),b=a(665),w=a(46),v=a(250),y=a.n(v),x=a(251),E=a.n(x),j=a(83),_=a.n(j),k=a(144),O=a.n(k),C=function(){return window.CONFIG||{sources:{}}},N=function(){return new Promise(function(e,t){O()("/rebus/config.json").then(function(t){var a=t.data;return e(a)}).catch(t)})},S=function(){return new Promise(function(e,t){O()("/rebus/render.css").then(function(t){var a=t.data;return e(a)}).catch(t)})},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=C();if(!t.sources[e])return new Promise(function(e,t){return t("no config")});var a=t.sources[e].tweetsSpreadsheetGoogleDriveId;return new Promise(function(e){_.a.init({key:a,simpleSheet:!0,callback:function(t){e(t)}})})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=C();if(!t.sources[e])return new Promise(function(e,t){return t("no config")});var a=t.sources[e].captionsGoogleDriveId;return new Promise(function(e,t){_.a.init({key:a,simpleSheet:!0,callback:function(a){try{e(a.map(function(e){return Object(h.a)({},e,{caption:e.name.toLowerCase()})}))}catch(n){t(n)}}})})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=C();if(!t.sources[e])return new Promise(function(e,t){return t("no config")});var a=t.sources[e].labelsGoogleDriveId;return new Promise(function(e,t){_.a.init({key:a,simpleSheet:!0,callback:function(a){try{e(a.map(function(e){return Object(h.a)({},e,{description:e.description.toLowerCase()})}))}catch(n){t(n)}}})})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=C();if(!t.sources[e])return new Promise(function(e,t){return t("no config")});var a=t.sources[e].imagesGoogleDriveId;return new Promise(function(e,t){_.a.init({key:a,simpleSheet:!0,callback:function(a){try{e(a)}catch(n){t(n)}}})})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=C();if(a.sources[t]){var n=a.sources[t].imagesSrcBase,i=e.id,r=e.imageType;return"".concat(n,"/").concat(i,".").concat(r)}},I=/#[\w\u0590-\u05ff\xe9\xe8\xee\xfb]+/g,L=/~[\w\u0590-\u05ff\xe9\xe8\xee\xfb]+/g,q=/\$[\w\u0590-\u05ff\xe9\xe8\xee\xfb]+/g,D=function(e,t,a){for(var n,i,r=t.getText();null!==(n=e.exec(r));)a(i=n.index,i+n[0].length)},B=function(e,t,a){D(I,e,t)},R=function(e,t,a){D(L,e,t)},U=function(e,t,a){D(q,e,t)},H=a(252),W=a(12),F={properties:{cropCaptions:{description:"crop captions",type:"boolean"},captionsLayout:{description:"captions layout",type:"string",enum:["align","stack"]},imagesWidth:{description:"images width",type:"string",enum:["word width","10","20","50","100"]},labelsLayout:{description:"labels layout",type:"string",enum:["stack","random","superpoze"]}},default:{cropCaptions:!1,labelsLayout:"random",imagesWidth:"word width",captionsLayout:"align"}},Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateSettings=function(e,t){var n=Object(h.a)({},a.context.settings,Object(m.a)({},e,t));a.context.updateSettings(n)},a.makeUi=function(e,t,n){switch(e.type){case"boolean":var r=function(){a.updateSettings(t,!0)},o=function(){a.updateSettings(t,!1)};return i.a.createElement("ul",{className:"multiple-choices"},i.a.createElement("li",{onClick:r},i.a.createElement("input",{type:"radio",onChange:r,value:!0,checked:!0===n}),i.a.createElement("label",null,"Yes")),i.a.createElement("li",{onClick:o},i.a.createElement("input",{type:"radio",value:!1,checked:!1===n,onChange:o}),i.a.createElement("label",null,"No")));case"string":return e.enum?i.a.createElement("ul",{className:"multiple-choices"},e.enum.map(function(e,r){var o=function(){a.updateSettings(t,e)};return i.a.createElement("li",{onClick:o,key:r},i.a.createElement("input",{onChange:o,type:"radio",id:"no",value:e,checked:n===e}),i.a.createElement("label",null,e))})):null;default:return null}},a.render=function(){var e=Object(W.a)(Object(W.a)(a));Object(H.a)(e.props);var t=e.context,n=t.settings,r=(t.updateSettings,e.makeUi);return i.a.createElement("div",null,Object.keys(F.properties).map(function(e,t){var a=F.properties[e];return i.a.createElement("div",{key:t},i.a.createElement("h3",null,a.description),r(a,e,n[e]))}))},a}return Object(d.a)(t,e),t}(n.Component);Q.contextTypes={settings:g.a.object,updateSettings:g.a.func};var G=Q,V=a(258),J=a(253),X=a.n(J),$=a(145),Y=a.n($),K=a(254),Z=a.n(K),ee={tweet:{backgroundColor:"rgba(255,255,255,0.5)",minHeight:"51px",maxWidth:"588px",transition:"all 1s ease",minWidth:"350px",borderBottom:"1px solid #e6ecf0",color:"#484e54",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", "sans-serif"',fontSize:"14px",lineHeight:"20px",listStyleImage:"none",listStylePosition:"outisde",listStyleType:"none",padding:"9px 12px",position:"relative",textAlign:"start"},content:{marginLeft:"58px"},context:{margin:"-3px 0 3px 34px"},accountGroup:{color:"#8899a6",textDecoration:"none"},avatar:{float:"left",marginTop:"3px",marginLeft:"-58px",width:"48px",height:"48px",borderRadius:"24px",border:0},fullname:{fontWeight:"bold",color:"#484e54"},username:{direction:"ltr",unicodeBidi:"embed",fontSize:"14px",color:"#657786"},s:{color:"#b1bbc3",textDecoration:"none"},b:{fontWeight:"normal"},time:{color:"#657786"},retweet:{color:"#657786",fontSize:"12px",lineHeight:"16.5px",marginLeft:"8px"},link:{textDecoration:"none"},timestamp:{fontSize:"14px",textDecoration:"none",color:"#8899a6"},tweetText:{whiteSpace:"pre-wrap",wordWrap:"break-word",color:"#484e54",margin:0},footer:{display:"table",width:"100%",fontSize:"12px",paddingTop:"1px"},ProfileTweetActionList:{fontSize:"0em",lineHeight:"1",marginTop:"10px",marginBottom:"2px",display:"block"},ProfileTweetAction:{display:"inline-block",width:"80px"},ProfileTweetActionBtn:{display:"inline-block",fontSize:"16px",lineHeight:"1",padding:"0 2px",position:"relative",border:0,background:"transparent",margin:0,WebkitAppearance:"button",cursor:"pointer"},ProfileTweetActionCount:{color:"#657786",display:"inline-block",fontSize:"12px",fontWeight:"bold",marginLeft:"6px",position:"relative"},IconContainer:{display:"inline-block",verticalAlign:"middle"},IconTextContainer:{display:"inline-block"},Icon:{background:"transparent",display:"inline-block",fontStyle:"normal",position:"relative"},IconContext:{background:"#77b255",display:"inline-block",fontStyle:"normal",verticalAlign:"middle",position:"relative",width:"15px",height:"14px",fill:"white",borderRadius:"2px"},AdaptiveMedia:{display:"inline-block",maxHeight:"508px",maxWidth:"508px",margin:"10px 0 0 0",overflow:"hidden",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"5px",verticalAlign:"top",textAlign:"center",width:"100%"},AdaptiveMediaBadge:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"3px",bottom:"52px",left:"80px",boxSizing:"border-box",MozBoxSizing:"border-box",color:"#fff",height:"20px",lineHeight:"20px",fontWeight:"700",padding:"0 5px",position:"absolute",zIndex:1},img:{width:"100%"},QuoteTweet:{marginTop:"12px",border:"solid 1px #e6ecf0",cursor:"pointer",borderRadius:"4px",position:"relative"},"QuoteTweet:hover":{border:"solid 1px aab8c2"},QuoteLink:{height:"100%",left:0,position:"absolute",top:0,width:"100%"},QuoteTweetInner:{padding:"12px"},QuoteTweetAuthor:{display:"inline-block",maxWidth:"100%",position:"relative",zIndex:1},QuoteTweetText:{marginTop:"3px",maxHeight:"78px",maxWidth:"100%",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word"},video:{width:"100%",verticalAlign:"bottom",maxHeight:"508px",objectFit:"contain",background:"#000000"},Modal:{position:"fixed",top:0,left:0,zIndex:999999999999,overflowX:"hidden",textAlign:"center",background:"rgba(0, 0, 0, 0.8)",display:"table",width:"100%",height:"100vh"},ModalClose:{position:"fixed",top:0,left:0,zIndex:10,overflowX:"hidden",textAlign:"center",display:"table",width:"100%",height:"100vh"},ModalInner:{display:"table-cell",verticalAlign:"middle",position:"relative",zIndex:20}},te=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.linkProps;return i.a.createElement("div",{className:"context",style:ee.context},i.a.createElement("div",{className:"tweet-context"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 24 24",style:{"vertical-align":"sub"}},i.a.createElement("path",{opacity:"0",d:"M0 0h24v24H0z"}),i.a.createElement("path",{fill:"rgb(101, 119, 134)",d:"M23.615 15.477c-.47-.47-1.23-.47-1.697 0l-1.326 1.326V7.4c0-2.178-1.772-3.95-3.95-3.95h-5.2c-.663 0-1.2.538-1.2 1.2s.537 1.2 1.2 1.2h5.2c.854 0 1.55.695 1.55 1.55v9.403l-1.326-1.326c-.47-.47-1.23-.47-1.697 0s-.47 1.23 0 1.697l3.374 3.375c.234.233.542.35.85.35s.613-.116.848-.35l3.375-3.376c.467-.47.467-1.23-.002-1.697zM12.562 18.5h-5.2c-.854 0-1.55-.695-1.55-1.55V7.547l1.326 1.326c.234.235.542.352.848.352s.614-.117.85-.352c.468-.47.468-1.23 0-1.697L5.46 3.8c-.47-.468-1.23-.468-1.697 0L.388 7.177c-.47.47-.47 1.23 0 1.697s1.23.47 1.697 0L3.41 7.547v9.403c0 2.178 1.773 3.95 3.95 3.95h5.2c.664 0 1.2-.538 1.2-1.2s-.535-1.2-1.198-1.2z"})),i.a.createElement("span",{className:"retweet-text",style:ee.retweet},i.a.createElement("a",Object.assign({className:"pretty-link",href:"https://twitter.com/".concat(t.user.screen_name),style:{textDecoration:"none",color:"#657786"}},a),t.user.name)," Retweeted")))}}]),t}(i.a.Component);te.displayName="Context";var ae=te,ne=a(102),ie=a.n(ne);function re(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"12.6",viewBox:"0 0 24 24",className:"htc-icon htc-icon--verified"},i.a.createElement("path",{style:{fill:"#1DA1F2"},opacity:"0",d:"M0 0h24v24H0z"}),i.a.createElement("path",{style:{fill:"#1DA1F2"},d:"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5c-1.51 0-2.816.917-3.437 2.25-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z"}))}var oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={mounted:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"createTimestamp",value:function(e){if(!e||!this.state.mounted)return null;return function(e){var t=new Date(Date.parse(e)),a=new Date,n=Math.floor((a-t)/1e3);return n<59?n+"s":n<=3540?Math.round(n/60)+"m":n<=86400?Math.round(n/3600)+"h":n<604800?Math.round(n/86400)+"d":t.toString().substring(4,10)}(e)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.linkProps,n=this.createTimestamp(t.created_at),r=null;t.user.verified&&(r=i.a.createElement(re,null));var o=t.user.name;return o=(o=ie.a.parse(o)).replace(/<img class="emoji"/g,'<img class="emoji" style="height:14px;margin-right:5px;"'),i.a.createElement("div",{className:"header"},i.a.createElement("a",Object.assign({className:"account-group",style:ee.accountGroup,href:"https://twitter.com/".concat(t.user.screen_name)},a),i.a.createElement("img",{className:"avatar",src:t.user.profile_image_url,style:ee.avatar}),i.a.createElement("strong",{className:"fullname",style:ee.fullname},t.user.name),r,i.a.createElement("span",null,"\xa0"),i.a.createElement("span",{className:"username",style:ee.username},i.a.createElement("s",{style:ee.s},"@"),i.a.createElement("b",{style:ee.b},t.user.screen_name))),i.a.createElement("small",{className:"time",style:ee.time},i.a.createElement("a",Object.assign({href:"https://twitter.com/".concat(t.user.screen_name,"/status/").concat(t.id_str),className:"tweet-timestamp",style:ee.timestamp},a)," \u2022 ",n)),i.a.createElement("a",Object.assign({href:"https://twitter.com/".concat(t.user.screen_name,"/status/").concat(t.id_str),title:"View on Twitter"},a),i.a.createElement("div",{style:{float:"right",marginTop:"-3px"}},i.a.createElement("svg",{id:"Logo_FIXED","data-name":"Logo \u2014 FIXED",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 400 400"},i.a.createElement("path",{fill:"#1da1f2",d:"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"})))))}}]),t}(i.a.Component);oe.defaultProps={data:{user:{}}},oe.displayName="Header";var se=oe,ce=a(255),le=a.n(ce),ue=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.targetTerm,n=t.text,r=t.entities,o=t.extended_entities;r&&r.media&&r.media.forEach(function(e){n=n.replace(e.url,"")}),r&&t.quoted_status&&r.urls.forEach(function(e){e.expanded_url.indexOf("/status/")>-1&&(n=n.replace(e.url,""))}),n=(n=le.a.autoLinkWithJSON(n,r||{},{usernameIncludeSymbol:!0})).replace(/href=/g,'style="text-decoration: none;color:#1da1f2;" target="blank" rel="noopener" href='),n=(n=(n=ie.a.parse(n)).replace(/<img class="emoji"/g,'<img class="emoji" style="height:14px;margin-right:5px;"')).replace(/src="\/\/twemoji/g,'src="http://twemoji'),o&&o.media&&o.media.forEach(function(e){n=n.replace(e.display_url,"")}),n=n.replace(new RegExp(a,"gi"),'<span class="targeted">'.concat(a,"</span>"));var s={className:"tweet-text",style:ee.tweetText,dangerouslySetInnerHTML:{__html:n}};return i.a.createElement("p",s)}}]),t}(i.a.Component);ue.displayName="Text";var de=ue,pe=function e(t){var a;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(a=new Date).setTime(t.getTime()),a;if(t instanceof Array){a=[];for(var n=0,i=t.length;n<i;n++)a[n]=e(t[n]);return a}if(t instanceof Object){for(var r in a={},t)t.hasOwnProperty(r)&&(a[r]=e(t[r]));return a}throw new Error("Unable to copy obj! Its type isn't supported.")},me=function(e){function t(e,a){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e,a))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){this.context.toggleModal(e)}},{key:"render",value:function(){var e=this,t=this.props.media,a=[],n=pe(ee.AdaptiveMedia);return 2===t.length&&(n.height="253px"),3===t.length&&(n.height="337px"),4===t.length&&(n.height="380px"),t.forEach(function(r,o){var s={width:"100%",position:"relative",overflow:"hidden"},c={width:"100%",position:"relative",verticalAlign:"bottom"},l=r.sizes.large.h,u=r.sizes.large.w;if(1===t.length){if(u>508)l*=100/u*508/100;var d=parseInt(n.maxHeight.replace("px",""));l>d&&(c.top="".concat((d-l)/2,"px"))}if(2===t.length){if(c.width="auto",c.height="100%",s.display="inline-block",s.height="100%",0===o&&(s.marginRight="1px"),s.width="calc(50% - .5px)",(l*=100/u*254/100)>253)c.top="".concat((253-l)/2,"px"),c.width="100%",c.height="auto";else if(u>254){u*=100/r.sizes.large.h*253/100,c.left="".concat((254-u)/2,"px")}}if(3===t.length){if(0===o){s.width="".concat(2/3*100,"%"),s.marginRight="1px",s.height="337px",s.float="left";u*=100/l*337/100,(l*=100/r.sizes.medium.w*(2/3*508)/100)>337&&(c.top="".concat((337-l)/2,"px")),u>2/3*508&&(c.width="auto",c.height="100%",c.left="".concat((2/3*508-u)/2,"px"))}if(0!==o){l=r.sizes.medium.h;if((l*=100/(u=r.sizes.medium.w)*(508/3)/100)>168.5)c.top="".concat((168.5-l)/2,"px");else if(u>508/3){c.width="auto",c.height="100%",u*=100/r.sizes.medium.h*(508/3)/100,c.left="".concat((508/3-u)/2,"px")}s.float="left",s.marginBottom="1px",s.height="calc(100% / 2 - 1px/2)",s.width="calc(100% / 3 - 1px)"}}if(4===t.length){if(0===o){s.width="75%",s.marginRight="1px",s.height="380px",s.float="left";u*=100/l*380/100,(l*=100/r.sizes.medium.w*381/100)>380&&(c.top="".concat((380-l)/2,"px")),u>381&&(c.width="auto",c.height="100%",c.left="".concat((381-u)/2,"px"))}if(0!==o){l=r.sizes.medium.h;if((l*=100/(u=r.sizes.medium.w)*127/100)>380/3)c.top="".concat((380/3-l)/2,"px");else if(u>127){c.width="auto",c.height="100%",u*=100/r.sizes.medium.h*127/100,c.left="".concat((127-u)/2,"px")}s.height="calc(100% / 3 - 2px/3)",s.marginBottom="1px",s.float="left",s.width="calc(25% - 1px)"}}a.push(i.a.createElement("div",{onClick:e.onClick.bind(e,o),className:"AdaptiveMedia-photoContainer",style:s,key:o},i.a.createElement("img",{src:r.media_url,style:c})))}),i.a.createElement("div",{className:"AdaptiveMedia",style:n},a)}}]),t}(i.a.Component);me.contextTypes={toggleModal:g.a.func},me.displayName="Photos";var he=me,fe=a(256),ge=a.n(fe),be=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.media,a=e.gif,n=e.autoPlay,r="";t[0].video_info.variants.forEach(function(e){e.url.indexOf(".mp4")>-1&&(r=e.url)});var o=i.a.createElement("video",{src:r,controls:!a,autoPlay:a||n,loop:a,style:ee.video},"Your browser does not support the ",i.a.createElement("code",null,"video "),"element.");return"undefined"!==typeof videojs&&(o=i.a.createElement(ge.a,{src:r,controls:!a,autoPlay:a||n,loop:a,style:ee.video},"Your browser does not support the ",i.a.createElement("code",null,"video "),"element.")),i.a.createElement("div",{className:"AdaptiveMedia",style:ee.AdaptiveMedia},o,a?i.a.createElement("div",{className:"AdaptiveMedia-badge",style:ee.AdaptiveMediaBadge},"GIF"):null)}}]),t}(i.a.Component);be.defaultProps={media:[],gif:!1},be.displayName="Video";var we=be,ve=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){switch(this.props.media[0].type){case"photo":return i.a.createElement(he,this.props);case"video":return i.a.createElement(we,this.props);case"animated_gif":return i.a.createElement(we,Object.assign({gif:!0},this.props));default:return i.a.createElement("div",null)}}}]),t}(i.a.Component);ve.defaultProps={media:[{type:""}]},ve.displayName="Media";var ye=ve,xe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"formatCount",value:function(e){return e>999?function(e){var t=Math.floor(Math.log(e)/Math.log(1e3));return(e/Math.pow(1e3,t)).toFixed(1)+"K"}(e):e}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.linkProps;return i.a.createElement("div",{className:"footer",style:ee.footer},i.a.createElement("a",Object.assign({className:"ProfileTweet-actionList",style:ee.ProfileTweetActionList,href:"http://twitter.com/".concat(t.user.screen_name,"/status/").concat(t.id_str)},a),i.a.createElement("div",{className:"ProfileTweet-action",style:ee.ProfileTweetAction},i.a.createElement("button",{className:"ProfileTweet-actionButton",style:ee.ProfileTweetActionBtn},i.a.createElement("div",{className:"IconContainer",style:ee.IconContainer},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},i.a.createElement("path",{opacity:"0",d:"M0 0h24v24H0z"}),i.a.createElement("path",{fill:"#657786",d:"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.004-.005-.008c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"}))))),i.a.createElement("div",{className:"ProfileTweet-action",style:ee.ProfileTweetAction},i.a.createElement("button",{className:"ProfileTweet-actionButton",style:ee.ProfileTweetActionBtn},i.a.createElement("div",{className:"IconContainer",style:ee.IconContainer},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"#657786",d:"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z"}))),i.a.createElement("div",{className:"IconTextContainer",style:ee.IconTextContainer},i.a.createElement("div",{className:"ProfileTweet-actionCount",style:ee.ProfileTweetActionCount},t.retweet_count>0?this.formatCount(t.retweet_count):null)))),i.a.createElement("div",{className:"ProfileTweet-action",style:ee.ProfileTweetAction},i.a.createElement("button",{className:"ProfileTweet-actionButton",style:ee.ProfileTweetActionBtn},i.a.createElement("div",{className:"IconContainer",style:ee.IconContainer},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},i.a.createElement("path",{opacity:"0",d:"M0 0h24v24H0z"}),i.a.createElement("path",{fill:"#657786",d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z"}))),i.a.createElement("div",{className:"IconTextContainer",style:ee.IconTextContainer},i.a.createElement("div",{className:"ProfileTweet-actionCount",style:ee.ProfileTweetActionCount},t.favorite_count>0?this.formatCount(t.favorite_count):null))))))}}]),t}(i.a.Component);xe.displayName="Footer";var Ee=xe,je=function(e){function t(e,a){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e,a))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"close",value:function(){this.context.closeModal()}},{key:"render",value:function(){if("undefined"===typeof window)return null;var e=this.props,t=e.data,a=e.modalIndex;t.retweeted_status&&(t=t.retweeted_status);var n=t.entities.media[a];t.extended_entities&&t.extended_entities.media&&(n=t.extended_entities.media[a]);var r=pe(ee.content);r.padding=ee.tweet.padding;var o={position:"relative",display:"inline-block",verticalAlign:"middle",margin:"0 auto",zIndex:20,marginTop:"50px",borderRadius:"5px",overflow:"hidden"},s={width:"100%",margin:"0 auto",display:"block"},c=n.sizes.large.w,l=n.sizes.large.h;return c>1e3?l>650?(s.width="".concat(n.sizes.large.w/n.sizes.large.h*650,"px"),o.width=s.width):(o.width="".concat(n.sizes.large.w/n.sizes.large.h*650,"px"),s.height="".concat(n.sizes.large.h/n.sizes.large.w*1e3,"px")):l>650?(o.width="".concat(n.sizes.large.w/n.sizes.large.h*650,"px"),s.width="".concat(n.sizes.large.w/n.sizes.large.h*650,"px")):o.width="".concat(c,"px"),i.a.createElement("div",{className:"Modal",style:ee.Modal},i.a.createElement("span",{style:{height:"100%",display:"inline-block",verticalAlign:"middle"}}),i.a.createElement("div",{className:"ModalClose",style:ee.ModalClose,onClick:this.close.bind(this)}),i.a.createElement("div",{className:"Modal-wrap",style:o},i.a.createElement("div",{className:"closeModal",style:{height:"50px",width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",background:"white"},onClick:this.close.bind(this)},i.a.createElement("svg",{fill:"#657786",style:{margin:"10px"},height:"28",viewBox:"0 0 24 24",width:"28",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),i.a.createElement("div",{className:"tweet",style:{backgroundColor:"#ffffff",minHeight:"51px",minWidth:"350px",color:"white",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", "sans-serif"',fontSize:"14px",lineHeight:"20px",listStyleImage:"none",listStylePosition:"outisde",listStyleType:"none",position:"relative",textAlign:"start"}},i.a.createElement("div",{className:"media-wrap",style:{width:"100%",background:"black"}},i.a.createElement("img",{src:n.media_url,style:s})),i.a.createElement("div",{className:"content",style:r},i.a.createElement(se,{data:t}),i.a.createElement(de,{data:t}),i.a.createElement(Ee,{data:t})))))}}]),t}(i.a.Component);je.contextTypes={closeModal:g.a.func},je.defaultProps={data:{entities:{},user:{}},active:0};var _e=je,ke=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.linkProps;return i.a.createElement("div",{className:"QuoteTweet",style:ee.QuoteTweet},i.a.createElement("a",Object.assign({className:"QuoteTweet-link",style:ee.QuoteLink,href:"https://twitter.com/".concat(t.user.screen_name,"/status/").concat(t.id_str)},a)),i.a.createElement("div",{className:"QuoteTweet-innerContainer",style:ee.QuoteTweetInner},i.a.createElement("div",{className:"QuoteTweet-originalAuthor",style:ee.QuoteTweetAuthor},i.a.createElement("b",null,t.user.name),i.a.createElement("span",{className:"QuoteTweet-screenname",style:ee.time}," ","@",t.user.screen_name)),i.a.createElement("div",{className:"QuoteTweet-text",style:ee.QuoteTweetText},i.a.createElement(de,{data:t}))))}}]),t}(i.a.Component);ke.displayName="Quote";var Oe=ke,Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updatePosition=function(){if(a.tweet){var e=a.tweet.getElementsByClassName("targeted");if(e.length){var t=e[0],n=a.tweet.getBoundingClientRect(),i=t.getBoundingClientRect(),r=-(i.left-n.left-i.width/2),o=-(i.top-n.top-i.height/2);a.state.positionStyles.left===r&&a.state.positionStyles.top===o||a.setState({positionStyles:{left:r,top:o}})}else if(!a.state.positionStyles.left){var s=5*a.props.targetDimensions.width;a.setState({positionStyles:{left:Math.random()*s-s/2,height:Math.random()*s-s/2}})}}},a.componentDidMount=function(){a.updatePosition(),setTimeout(function(){return a.updatePosition()},500)},a.componentDidUpdate=function(){a.updatePosition(),setTimeout(a.updatePosition(),500)},a.toggleModal=a.toggleModal.bind(Object(W.a)(Object(W.a)(a))),a.closeModal=a.closeModal.bind(Object(W.a)(Object(W.a)(a))),a.state={modalActive:!1,modalIndex:0,positionStyles:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggleModal",value:function(e){this.setState({modalActive:!0,modalIndex:e})}},{key:"closeModal",value:function(){this.setState({modalActive:!1})}},{key:"getChildContext",value:function(){return{toggleModal:this.toggleModal,closeModal:this.closeModal}}},{key:"render",value:function(){var e=this,t=this.state,a=t.modalActive,n=t.modalIndex,r=t.positionStyles,o=this.props,s=o.data,c=o.targetTerm,l=o.linkProps,u=!1,d=null,p=null;"full_text"in s&&(s.text=s.full_text,"quoted_status"in s&&(s.quoted_status.text=s.quoted_status.full_text),"retweeted_status"in s&&(s.retweeted_status.text=s.retweeted_status.full_text,"quoted_status"in s.retweeted_status&&(s.retweeted_status.quoted_status.text=s.retweeted_status.quoted_status.full_text))),"extended_tweet"in s&&(s.text=s.extended_tweet.full_text,s.entities=s.extended_tweet.entities,s.extended_entities=s.extended_tweet.extended_entities,s.display_text_range=s.extended_tweet.display_text_range),"quoted_status"in s&&"extended_tweet"in s.quoted_status&&(s.quoted_status.text=s.quoted_status.extended_tweet.full_text,s.quoted_status.entities=s.quoted_status.extended_tweet.entities,s.quoted_status.extended_entities=s.quoted_status.extended_tweet.extended_entities,s.quoted_status.display_text_range=s.quoted_status.extended_tweet.display_text_range),"retweeted_status"in s&&("extended_tweet"in s.retweeted_status&&(s.retweeted_status.text=s.retweeted_status.extended_tweet.full_text,s.retweeted_status.entities=s.retweeted_status.extended_tweet.entities,s.retweeted_status.extended_entities=s.retweeted_status.extended_tweet.extended_entities,s.retweeted_status.display_text_range=s.retweeted_status.extended_tweet.display_text_range),s.retweeted_status.is_quote_status&&"extended_tweet"in s.retweeted_status.quoted_status&&(s.retweeted_status.quoted_status.text=s.retweeted_status.quoted_status.extended_tweet.full_text,s.retweeted_status.quoted_status.entities=s.retweeted_status.quoted_status.extended_tweet.entities,s.retweeted_status.quoted_status.extended_entities=s.retweeted_status.quoted_status.extended_tweet.extended_entities,s.retweeted_status.quoted_status.display_text_range=s.retweeted_status.quoted_status.extended_tweet.display_text_range)),s.retweeted_status&&(s=s.retweeted_status,u=!0),s.entities&&s.entities.media&&(d=i.a.createElement(ye,{autoPlay:this.props.autoPlay,media:s.entities.media})),s.extended_entities&&s.extended_entities.media&&(d=i.a.createElement(ye,{autoPlay:this.props.autoPlay,media:s.extended_entities.media})),s.quoted_status&&(p=i.a.createElement(Oe,{data:s.quoted_status,linkProps:l}));return i.a.createElement("div",{ref:function(t){e.tweet=t},className:"tweet",style:Object(h.a)({},ee.tweet,r)},u?i.a.createElement(ae,this.props):null,i.a.createElement("div",{className:"content",style:ee.content},i.a.createElement(se,{data:s,linkProps:l}),i.a.createElement("a",Object.assign({style:ee.link,href:"https://twitter.com/".concat(s.user.screen_name,"/status/").concat(s.id_str)},l),i.a.createElement(de,{targetTerm:c,data:s})),d,p,i.a.createElement(Ee,{data:s,linkProps:l})),a?i.a.createElement(_e,{data:s,modalIndex:n}):null)}}]),t}(i.a.Component);Ce.childContextTypes={toggleModal:g.a.func,closeModal:g.a.func},Ce.defaultProps={data:{entities:{},user:{}},linkProps:{}};var Ne=Ce,Se=function(e){return e.length?e[0].slice(1):""},Me=function(e,t){var a=t.toLowerCase();return e.filter(function(e){return e.clean.toLowerCase().includes(a)})},Te=function(e){return Object(h.a)({},e,{id_str:e.id,user:{name:e.from_user_name,screen_name:e.from_user_realname,profile_image_url:e.from_user_profile_image_url},entities:{}})},Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(W.a)(Object(W.a)(a)),t=e.props.children,n=e.context,r=n.tweets,o=void 0===r?[]:r,s=n.cluster,c=void 0===s?"all clusters":s,l=e.target,u=e.container,d=Se(t),p=Me(o.filter(function(e){return"all clusters"===c||e.cluster===c}),d),m={},h={};if(l&&u){m=l.getBoundingClientRect();var f=u.getBoundingClientRect();h={left:m.x-f.x-m.width/2,top:m.y-f.y-m.height/2}}return i.a.createElement("span",{ref:function(e){a.container=e},className:"tweet-take"},i.a.createElement("span",{className:"take-anchor",ref:function(e){a.target=e}},d),p.map(function(e){return i.a.createElement("div",{style:h,key:e.id,className:"tweet-container"},i.a.createElement(Ne,{targetDimensions:m,data:Te(e),targetTerm:d}))}))},a}return Object(d.a)(t,e),t}(n.Component);Pe.contextTypes={tweets:g.a.array,cluster:g.a.string};var Ae=Pe,ze=function(e,t){var a=t.toLowerCase();return e.filter(function(e,t){return e.caption.toLowerCase().includes(a)})},Ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(W.a)(Object(W.a)(a)).props,t=e.caption,n=e.targetDimensions,r=e.cropCaption,o=void 0!==r&&r,s=e.index,c=e.captionLayout,l=void 0===c?"align":c;if(!t||!t.image)return null;var u=+t.image.imageHeight/+t.image.imageWidth,d=n.width,p=+t.width,m=t.width/t.height,h=+t.image.imageWidth,f=h*d/(h*p),g=f*u,b={width:f,height:g,left:-t.x*f,top:-t.y*g-t.height*g/2,position:"absolute"},w={};return o?(w={width:d,height:d*m,left:0,top:-d*m*.5,overflow:"hidden",position:"absolute"},b.top+=.5*w.height,"stack"===l&&(w.left=5*s,w.top=5*s)):"stack"===l&&(b.top+=5*s,b.left+=5*s),i.a.createElement("div",{style:w},i.a.createElement("img",{ref:function(e){a.image=e},src:t.src,alt:t.src,style:b}))},a}return Object(d.a)(t,e),t}(n.Component),Le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(W.a)(Object(W.a)(a)),t=e.props.children,n=e.context,r=n.captions,o=void 0===r?[]:r,s=n.cluster,c=void 0===s?"all clusters":s,l=n.imagesMap,u=void 0===l?{}:l,d=n.settings,p=void 0===d?{}:d,m=e.target,f=e.container,g=p.cropCaptions,b=void 0!==g&&g,w=p.imagesWidth,v=void 0===w?"word width":w,y=p.captionsLayout,x=void 0===y?"align":y,E=Se(t),j=ze(o.filter(function(e){return"all clusters"===c||e.tweetCluster===c}),E).sort(function(e,t){return e.score>t.score?-1:1}).map(function(e){return Object(h.a)({},e,{image:u[e.image_id],src:z(u[e.image_id])})}),_={},k={};if(m&&f){_=m.getBoundingClientRect();var O=f.getBoundingClientRect();k={left:_.x-O.x,top:_.y-O.y},"stack"===x&&(k.left-=.5*j.length*5,k.top-=.5*j.length*5)}return i.a.createElement("span",{ref:function(e){a.container=e},className:"captions-take",style:{minWidth:"word width"===v?void 0:+v,display:"word width"===v?void 0:"inline-block"}},i.a.createElement("span",{className:"take-anchor",ref:function(e){a.target=e}},E),j.map(function(e,t){return i.a.createElement("div",{style:k,key:t,className:"caption-container"},i.a.createElement(Ie,{key:t,caption:e,targetDimensions:Object(h.a)({},_,{width:"word width"===v?_.width:+v}),cropCaption:b,index:t,captionLayout:x}))}))},a}return Object(d.a)(t,e),t}(n.Component);Le.contextTypes={captions:g.a.array,imagesMap:g.a.object,cluster:g.a.string,settings:g.a.object};var qe=Le,De=function(e,t){var a=t.toLowerCase();return e.filter(function(e,t){return e.description.toLowerCase().includes(a)})},Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(W.a)(Object(W.a)(a)).props,t=e.label,n=e.targetDimensions,r=e.index,o=e.layout;if(!t||!t.image)return t;var s=+t.image.imageHeight/+t.image.imageWidth,c=1.5*n.width,l=c*s,u=Math.random()*(2*n.width)-n.width,d=Math.random()*(2*n.width)-n.width;"superpoze"===o?(u=0,d=-l/2):"stack"===o&&(u=5*r,d=5*r);var p={width:c,height:l,left:u,top:d,position:"absolute"};return i.a.createElement("img",{ref:function(e){a.image=e},src:t.src,alt:t.src,style:p})},a}return Object(d.a)(t,e),t}(n.Component),Re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=Object(W.a)(Object(W.a)(a)),t=e.props.children,n=e.context,r=n.labels,o=void 0===r?[]:r,s=n.cluster,c=void 0===s?"all clusters":s,l=n.imagesMap,u=void 0===l?{}:l,d=n.settings,p=void 0===d?{}:d,m=e.target,f=e.container,g=p.labelsLayout,b=void 0===g?"random":g,w=p.imagesWidth,v=void 0===w?"word width":w,y=Se(t),x=De(o.filter(function(e){return"all clusters"===c||e.tweetCluster===c}),y).sort(function(e,t){return e.score>t.score?-1:1}).map(function(e){return Object(h.a)({},e,{image:u[e.image_id],src:z(u[e.image_id])})}),E={},j={};if(m&&f){E=m.getBoundingClientRect();var _=f.getBoundingClientRect();j={left:E.x-_.x,top:E.y-_.y}}return"stack"===b&&(j.left=-x.length/2*5,j.top=-x.length/2*5),i.a.createElement("span",{ref:function(e){a.container=e},style:{minWidth:"word width"===v?void 0:1.3*+v,display:"word width"===v?void 0:"inline-block"},className:"labels-take"},i.a.createElement("span",{className:"take-anchor",ref:function(e){a.target=e}},y),x.map(function(e,t){return i.a.createElement("div",{style:j,key:t,className:"label-container"},i.a.createElement(Be,{key:t,label:e,index:t,layout:b,targetDimensions:Object(h.a)({},E,{width:"word width"===v?E.width:+v})}))}))},a}return Object(d.a)(t,e),t}(n.Component);Re.contextTypes={labels:g.a.array,imagesMap:g.a.object,cluster:g.a.string,settings:g.a.object};var Ue=Re,He={code:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2},codeBlock:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:20}},We=function(e){return e.map(function(e,t){return[e,i.a.createElement("br",{key:t+1})]})},Fe={inline:{BOLD:function(e,t){var a=t.key;return i.a.createElement("strong",{key:a},e)},ITALIC:function(e,t){var a=t.key;return i.a.createElement("em",{key:a},e)},UNDERLINE:function(e,t){var a=t.key;return i.a.createElement("u",{key:a},e)},CODE:function(e,t){var a=t.key;return i.a.createElement("span",{key:a,style:He.code},e)}},blocks:{unstyled:function(e){return e.map(function(e,t){return i.a.createElement("div",{className:"unstyled",key:t},e)})},blockquote:function(e,t){return i.a.createElement("blockquote",{key:t},We(e))},"header-one":function(e,t){return e.map(function(e){return i.a.createElement("h1",{key:t},e)})},"header-two":function(e,t){return e.map(function(e){return i.a.createElement("h2",{key:t},e)})},"code-block":function(e,t){var a=t.keys;return i.a.createElement("pre",{style:He.codeBlock,key:a[0]},We(e))},"unordered-list-item":function(e,t){var a=t.depth,n=t.keys;return i.a.createElement("ul",{key:n[n.length-1],className:"ul-level-".concat(a)},e.map(function(e){return i.a.createElement("li",null,e)}))},"ordered-list-item":function(e,t){var a=t.depth,n=t.keys;return i.a.createElement("ol",{key:n.join("|"),className:"ol-level-".concat(a)},e.map(function(e,t){return i.a.createElement("li",{key:n[t]},e)}))}},decorators:[{strategy:B,component:function(e){var t=e.children,a=e.key;return i.a.createElement(Ae,{key:a},t)}},{strategy:R,component:function(e){var t=e.children,a=e.key;return i.a.createElement(qe,{key:a},t)}},{strategy:U,component:function(e){var t=e.children,a=e.key;return i.a.createElement(Ue,{key:a},t)}}]},Qe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).shouldComponentUpdate=function(e,t,a){return a.autoUpdateEnabled},a.render=function(){var e=Object(W.a)(Object(W.a)(a)).context,t=e.rawContent,n=e.renderCss,r=void 0===n?"":n,o=e.projectMetadata,s=void 0===o?{}:o,c=s.title,l=s.subtitle,u=s.authors,d=s.description,p=Z()(t,Fe);return i.a.createElement("div",{className:"renderer-view"},i.a.createElement("div",{className:"poster-container"},i.a.createElement("div",{className:"poster-contents"},p),i.a.createElement("div",{className:"poster-footer-container"},i.a.createElement("footer",{className:"poster-footer"},i.a.createElement("div",{className:"main-footer-contents"},i.a.createElement("h1",{className:"project-title"},c),i.a.createElement("h2",{className:"project-subtitle"},l),i.a.createElement("h2",{className:"project-authors"},u),i.a.createElement("div",{className:"project-presentation"},d)),i.a.createElement("div",{className:"footer-meta"},i.a.createElement("h1",{className:"project-workshop-title"},"Especes de milieux | 2019"),i.a.createElement("h3",{className:"project-animators"},"Donato Ricci",i.a.createElement("br",null),"Robin de Mourat"),i.a.createElement("img",{className:"logo",alt:"logo",src:"/rebus/logo-ensci.svg"}))))),i.a.createElement("style",null,r))},a}return Object(d.a)(t,e),t}(n.Component);Qe.contextTypes={rawContent:g.a.object,renderCss:g.a.string,autoUpdateEnabled:g.a.bool,projectMetadata:g.a.object};var Ge=Qe,Ve=a(146),Je=a.n(Ve);Je.a.setAppElement(document.body);var Xe=function(e,t){var a=t.handleUpdateState,n=t.editorState,r=t.autoUpdateEnabled,o=t.setAutoUpdateEnabled,s=t.cluster,c=(t.updateDataForGroup,t.dataLoaded),l=t.projectMetadata,u=t.tweets,d=void 0===u?[]:u,p=t.setProjectMetadata,f=t.updateCluster,g=t.toggleSettings,b=t.settingsOpen,v=["all clusters"].concat(Object(V.a)(X()(d.map(function(e){return e.cluster})).sort())),y=l.title,x=l.subtitle,E=l.authors,j=l.description,_=function(e,t){var a=e.target.value;p(Object(h.a)({},l,Object(m.a)({},t,a)))};return i.a.createElement("div",{className:"editor-container"},i.a.createElement("div",{className:"editor-column editing-column"},i.a.createElement("div",{className:"text-editor-container"},i.a.createElement(w.Editor,{editorState:n,onChange:a,placeholder:"\xc9crivez votre r\xe9bus ici en convoquant des #tweets, des ~l\xe9gendes, ou des $labels"}),i.a.createElement("div",{className:"metadata-edition"},i.a.createElement("div",{className:"control"},i.a.createElement("label",null,"Project title"),i.a.createElement("input",{className:"input",placeholder:"project title",value:y,onChange:function(e){return _(e,"title")}})),i.a.createElement("div",{className:"control"},i.a.createElement("label",null,"Project subtitle"),i.a.createElement("input",{className:"input",placeholder:"project subtitle",value:x,onChange:function(e){return _(e,"subtitle")}})),i.a.createElement("div",{className:"control"},i.a.createElement("label",null,"Project authors"),i.a.createElement("input",{className:"input",placeholder:"project authors",value:E,onChange:function(e){return _(e,"authors")}}))),i.a.createElement("div",{className:"textarea-container"},i.a.createElement("label",null,"Project description"),i.a.createElement("textarea",{className:"textarea",placeholder:"project description",value:j,onChange:function(e){return _(e,"description")}}))),i.a.createElement("h1",{className:"baseline"},i.a.createElement("a",{href:"https://medialab.sciences-po.fr",target:"blank",rel:"noopener"},"m\xe9dialab Sciences Po")," | ",i.a.createElement("i",null,"r\xe9bus"))),i.a.createElement("div",{className:"editor-column preview-column"},i.a.createElement(Y.a,{name:"preview",id:"preview",head:i.a.createElement("link",{rel:"stylesheet",src:"".concat("/rebus","/fonts.css")})},i.a.createElement($.FrameContextConsumer,null,function(e){var t=e.document,a=e.window;return i.a.createElement(Ge,{window:a,document:t})})),i.a.createElement("div",{className:"footer-buttons"},i.a.createElement("button",{onClick:function(){o(!r)}},r?"disable auto-update":"enable auto-update"),i.a.createElement("button",{onClick:g},"settings"),i.a.createElement("div",null,v.map(function(e,t){return i.a.createElement("a",{onClick:function(){f(e)},className:"corpus-link-btn ".concat(e===s?"is-active":""),key:t,href:"#/?cluster=".concat(encodeURIComponent(e))},e)}),!c&&i.a.createElement("i",null,"loading corpus")),i.a.createElement("button",{onClick:function(){window.frames.preview.focus(),window.frames.preview.print()}},"print"))),i.a.createElement(Je.a,{isOpen:b,onRequestClose:g,contentLabel:"Settings"},i.a.createElement(G,null)))};Xe.contextTypes={handleUpdateState:g.a.func,editorState:g.a.object,autoUpdateEnabled:g.a.bool,setAutoUpdateEnabled:g.a.func,cluster:g.a.string,updateDataForGroup:g.a.func,dataLoaded:g.a.bool,projectMetadata:g.a.object,setProjectMetadata:g.a.func,tweets:g.a.array,updateCluster:g.a.func,toggleSettings:g.a.func,settingsOpen:g.a.bool};var $e=Xe,Ye="Les ~mouse de Paris sont nos amis ils nettoient la ville ils la d\xe9barrassent des d\xe9jections qui risqueraient sinon d\u2019encombrer nos \xe9vacuations.\nIls sont indispensables \xe0 nos vies ils sont nos amis bien qu\u2019en r\xe9fl\xe9chissant \xe0 une d\xe9finition simple une d\xe9finition raisonnable et rapide et durable de ce qu\u2019il est convenu d\u2019appeler ami on soit contraint d\u2019admettre que l\u2019indispensable n\u2019y a pas sa place un ami n\u2019est pas quelqu\u2019un d\u2019indispensable un ami n\u2019est pas indispensable \xe0 la vieil n\u2019est pas n\xe9cessaire il est m\xeame contingent c\u2019est justement ce qui le rend pr\xe9cieux de ce point de vue l\xe0 un ami n\u2019est pas un rat et le rat peut-\xeatre n\u2019est pas notre ami.\nUn ami n\u2019est pas quelqu\u2019un d\u2019indispensable.\nUn ami n\u2019est pas indispensable \xe0 la vie.\nIl n\u2019est pas n\xe9cessaire. \nIl est m\xeame contingent.\nDe ce point de vue l\xe0, un ami n\u2019est pas un #rat et le $mouse, peut-\xeatre, n\u2019est pas notre ami.",Ke=new w.CompositeDecorator([{strategy:B,component:function(e){var t=e.children;return i.a.createElement("span",{style:{color:"blue"}},t)}},{strategy:R,component:function(e){var t=e.children;return i.a.createElement("span",{style:{color:"green"}},t)}},{strategy:U,component:function(e){var t=e.children;return i.a.createElement("span",{style:{color:"purple"}},t)}}]),Ze=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=window.location.href,t=e.split("?");if(t.length>1){var n=t.reverse()[0].split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return Object(h.a)({},e,Object(m.a)({},t[0],decodeURIComponent(t[1])))},{});n.cluster&&a.setState({cluster:n.cluster})}S().then(function(e){return a.setState({renderCss:e}),N()}).then(function(e){window.CONFIG=e,a.updateDataForGroup("default")}).catch(console.error)},a.getChildContext=function(){return{editorState:a.state.editorState,handleUpdateState:a.handleUpdateState,rawContent:a.state.rawContent,tweets:a.state.tweets,captions:a.state.captions,images:a.state.images,imagesMap:a.state.imagesMap,labels:a.state.labels,updateCluster:a.updateCluster,cluster:a.state.cluster,renderCss:a.state.renderCss,autoUpdateEnabled:a.state.autoUpdateEnabled,setAutoUpdateEnabled:a.setAutoUpdateEnabled,group:a.state.group,updateDataForGroup:a.updateDataForGroup,dataLoaded:a.state.captionsLoaded&&a.state.imagesLoaded&&a.state.labelsLoaded&&a.state.tweetsLoaded,projectMetadata:a.state.projectMetadata,setProjectMetadata:a.setProjectMetadata,toggleSettings:a.toggleSettings,settingsOpen:a.state.settingsOpen,settings:a.state.settings,updateSettings:a.updateSettings}},a.setProjectMetadata=function(e){a.setState({projectMetadata:e}),localStorage.setItem("rebus/metadata",JSON.stringify(e))},a.updateCluster=function(e){a.setState({cluster:e})},a.updateSettings=function(e){localStorage.setItem("rebus/settings",JSON.stringify(e)),a.setState({settings:e})},a.toggleSettings=function(){a.setState({settingsOpen:!a.state.settingsOpen})},a.updateDataForGroup=function(e){a.setState({group:e,captionsLoaded:!1,tweetsLoaded:!1,imagesLoaded:!1,labelsLoaded:!1}),M(e).then(function(e){a.setState({tweets:e,tweetsLoaded:!0})}).catch(console.error),A(e).then(function(e){var t=e.reduce(function(e,t){return Object(h.a)({},e,Object(m.a)({},t.id,t))},{});a.setState({images:e,imagesLoaded:!0,imagesMap:t})}).catch(console.error),P(e).then(function(e){a.setState({labels:e,labelsLoaded:!0})}).catch(console.error),T(e).then(function(e){a.setState({captions:e,captionsLoaded:!0})}).catch(console.error)},a.setAutoUpdateEnabled=function(e){a.setState({autoUpdateEnabled:e})},a.updateRawContent=function(e){var t=Object(w.convertToRaw)(e.getCurrentContent()),n=t.blocks.map(function(e){return e.text}).join("\n");localStorage.setItem("rebus/text",n),a.setState({rawContent:t}),setTimeout(a.setState({rawContent:t}))},a.handleUpdateState=function(e){a.setState({editorState:e}),a.updateRawContent(e)};var n=localStorage.getItem("rebus/text")||Ye,i=w.EditorState.createWithContent(w.ContentState.createFromText(n),Ke),r=localStorage.getItem("rebus/metadata"),o=localStorage.getItem("rebus/settings"),c={title:"Rebus project title",subtitle:"Rebus project subtitle",authors:"Rebus project authors",description:" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque efficitur dictum diam, fermentum pharetra lectus varius in. Nullam mollis, arcu eu maximus congue, risus nisl auctor metus, sed tempus velit lorem at ligula. Morbi porttitor enim quis arcu tincidunt, sed volutpat libero mollis. Suspendisse et nunc convallis, semper dui in, laoreet lorem. Nunc maximus mauris sapien, eu aliquet magna sodales nec. Nullam lacinia rutrum sapien, ac hendrerit orci porttitor finibus. Cras urna augue, imperdiet in ante a, vestibulum elementum erat. Ut risus enim, fringilla et blandit a, tincidunt in magna. Ut sem diam, ultricies id nisl vitae, faucibus consectetur lorem. Curabitur nec augue fermentum, eleifend libero sit amet, ornare nunc. Sed ac ornare velit. Duis tempus libero sed mauris aliquam tincidunt."};if(r)try{c=JSON.parse(r)}catch(p){}var d=E()(F);if(o)try{d=JSON.parse(o)}catch(p){}return a.state={editorState:i,rawContent:Object(w.convertToRaw)(i.getCurrentContent()),tweets:[],captions:[],images:[],labels:[],captionsMap:{},renderCss:"",cluster:"all clusters",autoUpdateEnabled:!0,captionsLoaded:!1,tweetsLoaded:!1,labelsLoaded:!1,imagesLoaded:!1,projectMetadata:c,settingsOpen:!1,settings:d},a.updateRawContent=y()(a.updateRawContent,1e3),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(b.a,{path:"/",exact:!0,component:$e}),i.a.createElement(b.a,{path:"/render/",exact:!0,component:Ge}))}}]),t}(n.Component);Ze.childContextTypes={editorState:g.a.object,handleUpdateState:g.a.func,captions:g.a.array,images:g.a.array,imagesMap:g.a.object,labels:g.a.array,rawContent:g.a.object,tweets:g.a.array,renderCss:g.a.string,autoUpdateEnabled:g.a.bool,setAutoUpdateEnabled:g.a.func,updateCluster:g.a.func,cluster:g.a.string,group:g.a.string,updateDataForGroup:g.a.func,dataLoaded:g.a.bool,projectMetadata:g.a.object,setProjectMetadata:g.a.func,settingsOpen:g.a.bool,toggleSettings:g.a.func,settings:g.a.object,updateSettings:g.a.func};var et=Ze,tt=(a(661),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,null,i.a.createElement(et,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[260,2,1]]]);
//# sourceMappingURL=main.f42e49fb.chunk.js.map